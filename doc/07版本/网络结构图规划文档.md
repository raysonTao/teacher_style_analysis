# 网络结构图规划文档

本文档详细规划了论文中需要绘制的所有网络结构图，包括图表规格、内容说明和绘制建议。

---

## 📋 图表清单总览

| 图号 | 图表名称 | 所在章节 | 优先级 | 预计工作量 |
|------|---------|---------|--------|-----------|
| 图3.1 | 系统四层架构图 | 第3章 | 🔴 高 | 2-3小时 |
| 图3.2 | MMAN详细架构图 | 第3章 | 🔴 高 | 3-4小时 |
| 图3.3 | 跨模态注意力机制示意图 | 第3章 | 🟡 中 | 2小时 |
| 图3.4 | DeepSORT追踪流程图 | 第3章 | 🟢 低 | 1-2小时 |
| 图4.1 | ST-GCN网络结构图 | 第4章 | 🔴 高 | 2-3小时 |
| 图4.2 | 消融实验柱状图 | 第4章 | 🟡 中 | 1小时 |
| 图4.3 | 混淆矩阵热图 | 第4章 | 🟡 中 | 0.5小时 |
| 图4.4 | 注意力权重可视化 | 第4章 | 🟡 中 | 1小时 |
| 图1.1 | 技术演进时间线图 | 第1章 | 🟢 低 | 1-2小时 |

**总计**：9张图表，预计总工作量：14-19小时

---

## 🔴 高优先级图表（必须完成）

### 图3.1：系统四层架构图

**位置**：第3章 3.1.2节

**目的**：展示系统的整体架构，让读者理解数据流向和模块组织

**尺寸**：宽度100%，高度约15cm

**图表类型**：层次结构图（4层堆叠）

**内容设计**：

```
┌─────────────────────────────────────────────────────────────┐
│                    第四层：应用层                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │风格雷达图 │  │模态贡献度 │  │典型片段  │  │改进建议  │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              ↑
┌─────────────────────────────────────────────────────────────┐
│                 第三层：融合分类层                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           MMAN (多模态注意力网络)                     │   │
│  │  跨模态注意力 → BiLSTM → 注意力池化 → 分类器        │   │
│  └─────────────────────────────────────────────────────┘   │
│              输出：7类风格概率分布                            │
└─────────────────────────────────────────────────────────────┘
                              ↑
┌─────────────────────────────────────────────────────────────┐
│                第二层：特征提取层                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │  视觉     │  │  音频     │  │  文本     │  │  规则     │   │
│  │ YOLOv8   │  │ Wav2Vec2  │  │  BERT    │  │  特征     │   │
│  │ DeepSORT │  │ Whisper   │  │  DAR     │  │  7维      │   │
│  │ MediaPipe│  │ 情感识别   │  │  语义     │  │          │   │
│  │ ST-GCN   │  │           │  │          │  │          │   │
│  └─────┬────┘  └─────┬────┘  └─────┬────┘  └────┬─────┘   │
│        │20维          │15维          │25维         │7维       │
└────────┼─────────────┼─────────────┼─────────────┼─────────┘
         ↓              ↓              ↓              ↓
┌─────────────────────────────────────────────────────────────┐
│                第一层：数据采集与预处理层                       │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │ 视频预处理    │  │ 音频预处理    │  │ 文本预处理    │     │
│  │ 解码、抽帧    │  │ 重采样、降噪  │  │ ASR转写      │     │
│  │ 时序对齐      │  │ VAD分离      │  │ 句子分割      │     │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘     │
│         └─────────────────┼─────────────────┘              │
│                           ↓                                 │
│                  课堂录像（视频+音频）                        │
└─────────────────────────────────────────────────────────────┘
```

**绘制要点**：
1. 使用不同颜色区分四层（蓝色、绿色、黄色、橙色）
2. 用箭头表示数据流向（从下往上）
3. 标注每个模块的输出维度
4. 使用图标增强可读性（如摄像机图标代表视频）

**推荐工具**：Draw.io 或 PowerPoint

**参考风格**：
- 层次清晰，模块边界分明
- 配色专业（避免过于花哨）
- 字体大小适中（12-14pt）

---

### 图3.2：MMAN详细架构图

**位置**：第3章 3.3.2节

**目的**：详细展示MMAN的内部结构和数据流

**尺寸**：宽度100%，高度约20cm

**图表类型**：神经网络架构图

**内容设计**：

```
输入特征
┌─────┐  ┌─────┐  ┌─────┐
│ Fv  │  │ Fa  │  │ Ft  │
│20维 │  │15维 │  │25维 │
└──┬──┘  └──┬──┘  └──┬──┘
   │        │        │
   ↓        ↓        ↓
┌─────────────────────────┐
│  模块1：特征投影层        │
│  ┌─────┐  ┌─────┐  ┌─────┐
│  │ Wv  │  │ Wa  │  │ Wt  │
│  │+ReLU│  │+ReLU│  │+ReLU│
│  └──┬──┘  └──┬──┘  └──┬──┘
│     └────────┴────────┘  │
└─────────────┬─────────────┘
              ↓ (3 × 512维)
┌─────────────────────────┐
│ 模块2：跨模态注意力层     │
│  ┌──────────────────┐   │
│  │  多头注意力机制    │   │
│  │  (8头, dk=64)    │   │
│  │                  │   │
│  │  Q ─┐            │   │
│  │     ├→ Attention │   │
│  │  K ─┤            │   │
│  │     │            │   │
│  │  V ─┘            │   │
│  └──────────────────┘   │
│                          │
│  Fv' ←→ Fa' ←→ Ft'      │
│   ↓      ↓      ↓        │
│  残差连接 + LayerNorm     │
└─────────────┬─────────────┘
              ↓ (3 × 512维)
┌─────────────────────────┐
│ 模块3：时序建模层         │
│  ┌──────────────────┐   │
│  │   BiLSTM         │   │
│  │   2层×512隐元     │   │
│  │                  │   │
│  │   前向 ──→       │   │
│  │              ↓   │   │
│  │   后向 ←──       │   │
│  └──────────────────┘   │
└─────────────┬─────────────┘
              ↓ (N × 1024维)
┌─────────────────────────┐
│ 模块4：注意力池化层       │
│  ┌──────────────────┐   │
│  │   βn = softmax   │   │
│  │   (Wp·hn)        │   │
│  │                  │   │
│  │   Σ βn·hn        │   │
│  └──────────────────┘   │
└─────────────┬─────────────┘
              ↓ (1024维)
┌─────────────────────────┐
│ 模块5：分类器            │
│  ┌──────────────────┐   │
│  │  FC(1024→256)    │   │
│  │  + ReLU          │   │
│  │  + Dropout(0.3)  │   │
│  │  + FC(256→7)     │   │
│  │  + Softmax       │   │
│  └──────────────────┘   │
└─────────────┬─────────────┘
              ↓
     7类风格概率分布
```

**绘制要点**：
1. 每个模块用不同颜色的矩形框表示
2. 标注每一层的输入输出维度
3. 用虚线箭头表示残差连接
4. 注意力机制部分用独立的小图展示
5. 在关键处标注公式编号（如"见公式3.13"）

**推荐工具**：Draw.io（使用神经网络形状库）

---

### 图4.1：ST-GCN网络结构图

**位置**：第4章 4.3.4节

**目的**：展示时空图卷积网络的结构

**尺寸**：宽度100%，高度约12cm

**图表类型**：图卷积网络示意图

**内容设计**：

```
输入：骨骼序列
┌──────────────────────────┐
│  32帧 × 25节点 × 3坐标    │
│  (T, V, C)               │
└─────────┬────────────────┘
          ↓
┌──────────────────────────┐
│  ST-GCN Block 1          │
│  ┌────────────────────┐  │
│  │  图卷积层          │  │
│  │  (空间依赖)        │  │
│  │   ↓                │  │
│  │  时间卷积层        │  │
│  │  (时序依赖)        │  │
│  │   ↓                │  │
│  │  BatchNorm + ReLU  │  │
│  └────────────────────┘  │
│  输出：64通道             │
└─────────┬────────────────┘
          ↓
┌──────────────────────────┐
│  ST-GCN Block 2          │
│  (同上结构)              │
│  输出：128通道            │
└─────────┬────────────────┘
          ↓
┌──────────────────────────┐
│  ST-GCN Block 3          │
│  (同上结构)              │
│  输出：256通道            │
└─────────┬────────────────┘
          ↓
┌──────────────────────────┐
│  全局池化 (GAP)          │
│  256维 → 256维           │
└─────────┬────────────────┘
          ↓
┌──────────────────────────┐
│  全连接层 + Softmax      │
│  256维 → 6类动作         │
└─────────┬────────────────┘
          ↓
    6类动作概率分布

┌─────────────────────────────────┐
│  骨骼图结构（侧边展示）         │
│                                 │
│     头部 ●                      │
│          │                      │
│    肩膀 ●─┴─●                   │
│         │   │                   │
│    肘部 ●   ●                   │
│         │   │                   │
│    手腕 ●   ●                   │
│          │                      │
│    髋部 ●─┬─●                   │
│         │   │                   │
│    膝盖 ●   ●                   │
│         │   │                   │
│    脚踝 ●   ●                   │
│                                 │
│  25个关节点，连接关系见表X.X    │
└─────────────────────────────────┘
```

**绘制要点**：
1. 左侧展示网络层次结构
2. 右侧展示骨骼图的连接关系
3. 用不同颜色表示空间卷积和时间卷积
4. 标注通道数的变化（64 → 128 → 256）

---

## 🟡 中优先级图表（建议完成）

### 图3.3：跨模态注意力机制示意图

**位置**：第3章 3.3.2节

**目的**：可视化注意力如何建模模态间的交互

**尺寸**：宽度80%，高度约10cm

**图表类型**：交互关系图

**内容设计**：

```
        视觉 (V)
          ●
         ╱│╲
        ╱ │ ╲
    αv→a│ │αv→t
        ╱ │ ╲
       ╱  │  ╲
      ●───┼───●
   音频(A) │ 文本(T)
           │
         αa→t

箭头粗细表示注意力权重大小
(数值示例见表X.X)
```

**绘制要点**：
1. 三个模态用不同颜色的圆圈表示
2. 箭头粗细表示注意力权重
3. 在箭头旁标注权重值
4. 可以展示不同风格的注意力模式对比

---

### 图4.2：消融实验柱状图

**位置**：第4章 4.4.3节

**目的**：直观展示各模块的贡献度

**尺寸**：宽度100%，高度约10cm

**图表类型**：分组柱状图

**内容设计**：
- X轴：不同模型配置（Full, -Transformer, -BiLSTM, -AttentionPool, -Rule）
- Y轴：准确率（85%-92%）
- 柱状图颜色：深蓝色
- 在每个柱子顶部标注准确率数值
- 用红色虚线标注baseline（最佳单模态78.3%）

**推荐工具**：Python (Matplotlib/Seaborn) 或 Excel

**代码示例**（Python）：

```python
import matplotlib.pyplot as plt
import numpy as np

configs = ['MMAN\n(Full)', '- Trans-\nformer', '- BiLSTM', '- Attention\nPool', '- Rule\nFeatures']
accuracy = [91.4, 88.7, 89.8, 90.3, 90.7]

plt.figure(figsize=(10, 6))
bars = plt.bar(configs, accuracy, color='steelblue', width=0.6)

# 标注数值
for bar in bars:
    height = bar.get_height()
    plt.text(bar.get_x() + bar.get_width()/2., height,
             f'{height}%', ha='center', va='bottom', fontsize=12)

# 基线
plt.axhline(y=78.3, color='red', linestyle='--', label='Best Single-Modal (78.3%)')

plt.ylabel('Accuracy (%)', fontsize=14)
plt.xlabel('Model Configuration', fontsize=14)
plt.title('Ablation Study Results', fontsize=16, fontweight='bold')
plt.ylim(75, 95)
plt.legend()
plt.grid(axis='y', alpha=0.3)
plt.tight_layout()
plt.savefig('ablation_study.png', dpi=300)
```

---

### 图4.3：混淆矩阵热图

**位置**：第4章 4.5节（实验结果分析）

**目的**：展示7类风格之间的混淆情况

**尺寸**：正方形，边长约12cm

**图表类型**：热图（Heatmap）

**内容设计**：
- 7×7矩阵
- 对角线为正确分类（深色）
- 非对角线为错误分类（浅色）
- 颜色方案：Blues（从浅蓝到深蓝）
- 在每个格子中标注数值

**推荐工具**：Python (Seaborn)

**代码示例**：

```python
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np

# 假设的混淆矩阵数据
confusion_matrix = np.array([
    [45, 2, 1, 1, 1, 0, 0],  # 理论讲授型
    [1, 41, 1, 2, 1, 1, 0],  # 耐心细致型
    [0, 1, 50, 1, 1, 0, 0],  # 启发引导型
    [2, 1, 0, 40, 1, 1, 0],  # 题目驱动型
    [1, 0, 1, 1, 47, 1, 0],  # 互动导向型
    [3, 1, 0, 2, 0, 37, 0],  # 逻辑推导型
    [0, 0, 0, 0, 1, 0, 53],  # 情感表达型
])

labels = ['理论讲授', '耐心细致', '启发引导', '题目驱动',
          '互动导向', '逻辑推导', '情感表达']

plt.figure(figsize=(10, 8))
sns.heatmap(confusion_matrix, annot=True, fmt='d', cmap='Blues',
            xticklabels=labels, yticklabels=labels,
            cbar_kws={'label': 'Sample Count'})
plt.ylabel('True Label', fontsize=14)
plt.xlabel('Predicted Label', fontsize=14)
plt.title('Confusion Matrix (MMAN Model)', fontsize=16, fontweight='bold')
plt.tight_layout()
plt.savefig('confusion_matrix.png', dpi=300)
```

---

### 图4.4：注意力权重可视化

**位置**：第4章 4.6节（可解释性分析）

**目的**：展示不同风格对各模态的依赖程度

**尺寸**：宽度100%，高度约15cm

**图表类型**：7个雷达图（每个风格一个）

**内容设计**：
- 每个雷达图有3个维度（视觉、音频、文本）
- 用不同颜色表示不同风格
- 可以做成3×3的子图布局（7个雷达图+2个空白）

**推荐工具**：Python (Matplotlib)

---

## 🟢 低优先级图表（可选）

### 图1.1：技术演进时间线图

**位置**：第1章 1.2节

**目的**：展示相关技术的发展历程

**尺寸**：宽度100%，高度约8cm

**图表类型**：时间线图

**内容设计**：

```
2010年前        2010-2015      2015-2020      2020至今
   │               │              │              │
   ├─ HMM-GMM      ├─ 3D CNN      ├─ Transformer ├─ MMAN
   │   (ASR)       │   (视频)      │   (注意力)    │  (本研究)
   │               │              │              │
   ├─ MFCC         ├─ Two-Stream  ├─ BERT        ├─ Wav2Vec2
   │   (音频)       │   (融合)      │   (NLP)      │  (自监督)
   │               │              │              │
   └─ 手工特征      └─ 深度学习     └─ 注意力机制   └─ 多模态融合
```

---

## 📐 绘图规范

### 颜色方案

**主色调**（推荐使用专业配色）：
- 蓝色系：#2E86AB, #A23B72, #F18F01
- 绿色系：#06A77D, #05668D, #028090
- 避免使用：过于鲜艳的颜色（如纯红、纯绿）

### 字体规范

- **标题**：16-18pt，粗体
- **正文**：12-14pt，常规
- **标注**：10-12pt，常规
- **推荐字体**：Arial, Helvetica, 或 微软雅黑

### 尺寸规范

- **分辨率**：至少300 DPI
- **图片格式**：PNG（透明背景）或 PDF（矢量图）
- **页面宽度**：Word文档宽度通常为16cm（A4纸，2.5cm边距）

---

## 🛠️ 推荐绘图工具

### 1. Draw.io (https://app.diagrams.net/)
- ✅ 免费、在线、无需安装
- ✅ 适合：架构图、流程图、网络结构图
- ✅ 导出格式：PNG, SVG, PDF

### 2. PowerPoint / Keynote
- ✅ 易用性高
- ✅ 适合：架构图、层次图
- ✅ 配合"插入 → 形状"和"SmartArt"

### 3. Python (Matplotlib/Seaborn)
- ✅ 适合：实验结果图、热图、柱状图
- ✅ 代码可重复，易于调整
- ✅ 专业级质量

### 4. TikZ (LaTeX)
- ✅ 最专业，矢量图质量最高
- ⚠️ 学习曲线陡峭
- ✅ 适合：神经网络结构图

---

## ⏱️ 时间规划建议

### 第1周（核心图表）
- [ ] 图3.1：系统四层架构图（3小时）
- [ ] 图3.2：MMAN详细架构图（4小时）
- [ ] 图4.1：ST-GCN网络结构图（3小时）

### 第2周（实验图表）
- [ ] 图4.2：消融实验柱状图（1小时）
- [ ] 图4.3：混淆矩阵热图（0.5小时）
- [ ] 图4.4：注意力权重可视化（1小时）

### 第3周（补充图表）
- [ ] 图3.3：跨模态注意力机制示意图（2小时）
- [ ] 图3.4：DeepSORT追踪流程图（2小时）
- [ ] 图1.1：技术演进时间线图（2小时）

---

## ✅ 检查清单

绘制每张图后，请检查：
- [ ] 图片分辨率≥300 DPI
- [ ] 所有文字清晰可读
- [ ] 颜色搭配专业（不花哨）
- [ ] 标注了关键参数（维度、层数等）
- [ ] 在正文中有引用（"如图X.X所示..."）
- [ ] 图片标题完整（"图X.X：XXXXX"）
- [ ] 图片下方有必要的说明文字

---

## 💡 绘图技巧

1. **先画草图**：在纸上或白板上先画出大致布局
2. **参考论文**：找2-3篇顶会论文（CVPR, NeurIPS），学习其图表风格
3. **保持一致**：所有图表使用相同的配色方案和字体
4. **适度留白**：不要把图表画得过于拥挤
5. **标注清晰**：关键部分要有文字说明
6. **矢量优先**：尽量使用矢量图（PDF, SVG），放大不失真

---

## 📚 参考资源

**优秀论文图表示例**：
- Attention Is All You Need (Transformer架构图)
- ResNet论文（残差连接示意图）
- BERT论文（模型架构图）

**在线教程**：
- Draw.io官方教程: https://www.diagrams.net/doc/
- Matplotlib官方画廊: https://matplotlib.org/stable/gallery/
- TikZ示例: https://texample.net/tikz/examples/

---

现在你已经有了详细的规划，可以开始绘制这些图表了！建议从高优先级的核心图表开始（图3.1, 图3.2, 图4.1），这三张图是论文的技术骨架。
